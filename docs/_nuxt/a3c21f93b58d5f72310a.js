(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{241:function(t,e,n){"use strict";n.r(e);var r={name:"dataURL",data:function(){return{progress:0,url:""}},methods:{addToFirestorage:function(data){console.log(data);this.$fireStorage.ref("dataurl/upload.png").putString(data,"data_url")},resizeImageBeforeUpload:function(t){var e=this;if(t.target.files[0]){var n=t.target.files[0],r=new FileReader;r.readAsDataURL(n),r.onloadend=function(t){var image=new Image;image.src=t.target.result,image.onload=function(t){var canvas=document.getElementById("canvas-container"),n=canvas.getContext("2d"),r=image.height/image.width;r>1?(canvas.width=600/r,canvas.height=600):(canvas.width=600,canvas.height=600*r),n.drawImage(image,0,0,canvas.width,canvas.height);var o=canvas.toDataURL();document.getElementById("resized-image").src=o,e.addToFirestorage(o)}}}}}},o=n(32),component=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[this._m(0),this._v(" "),e("div",{staticClass:"col-sm-12"},[e("form",[e("input",{attrs:{type:"file",accept:"image/*"},on:{change:this.resizeImageBeforeUpload}})]),this._v(" "),e("canvas",{staticClass:"dev-border",staticStyle:{display:"none"},attrs:{id:"canvas-container"}},[this._v("\n        Your browser does not support the HTML5 canvas tag.")]),this._v(" "),e("img",{attrs:{id:"resized-image"}})])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-12 pb-3"},[e("h1",[this._v("Upload and Resize")]),this._v(" "),e("p",[this._v("\n        Choose a file and upload and resize it in the browser, preparing it\n        for upload. This specific script will constrain the image to fit\n        inside a 600x600 pixel box.\n      ")]),this._v(" "),e("p",[this._v("\n        This article was very helpful:\n        "),e("a",{attrs:{href:"https://medium.com/front-end-weekly/draw-an-image-in-canvas-using-javascript-%EF%B8%8F-2f75b7232c63",target:"_blank"}},[this._v("Draw an image in canvas using Javascript")])]),this._v(" "),e("hr")])}],!1,null,"20605b2e",null);e.default=component.exports}}]);